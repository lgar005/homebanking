<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
          <script src="https://kit.fontawesome.com/92e84a8749.js" crossorigin="anonymous"></script>  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merienda+One&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>   
   <link rel="stylesheet" href="./css/styleAccounts.css">
   <link rel="shortcut icon" href="./img/LogoColor.png" type="image/x-icon">
    <title>Accounts</title>
</head>
<body>
    <div  id="app">
    <header>
        <nav class="navbar navbar-expand-lg ">
            <div class="container-fluid ">
                <a class="navbar-brand d-flex align-items-center" href="#">
                    <img class=" logo" src="./img/MLogo-removebg-preview.png" alt="Logo"/>
                    <p class="titleMB px-2"> Mindhub Brothers</p>
                </a>
                <button class="navbar-toggler mb-4" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end align-items-center"
                    id="navbarNav">
                    <div class="navbar-nav nav_a d-flex align-items-center">
                        <a class="nav-link estileA" active href="#">Accounts</a>
                        <a class="nav-link estileA" href="./cards.html">Cards</a>
                        <!--<input  type="button" @click="logOut" value="sign out">-->
                        <a class="nav-link estileA" href="./transfers.html">Transfers</a>
                        <a class="nav-link estileA"type="button" @click="logOut">Sign out</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main >
        <div class="d-flex justify-content-center pt-5  accountCardResponsive">
        <div class="card mr-10">
            <div class="card-title">Account Holder</div>
            <div class="card-info">
            <span>
              <svg class="avatar" viewBox="-5 -10 30 34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.37164 12H3C1.34315 12 0 13.3431 0 15V21C0 22.6569 1.34315 24 3 24H17C18.6569 24 20 22.6569 20 21V15C20 13.3431 18.6569 12 17 12H14.6284C14.5071 12.1347 14.3785 12.2646 14.2426 12.3891C13.1174 13.4205 11.5913 14 10 14C8.4087 14 6.88258 13.4205 5.75736 12.3891C5.62152 12.2646 5.49286 12.1347 5.37164 12Z" fill="#D9D9D9"></path>
              <path d="M16 6.5C16 7.95869 15.3679 9.35764 14.2426 10.3891C13.1174 11.4205 11.5913 12 10 12C8.4087 12 6.88258 11.4205 5.75736 10.3891C4.63214 9.35764 4 7.95869 4 6.5L6.34017 6.5C6.34017 7.38976 6.72576 8.24308 7.41211 8.87223C8.09846 9.50139 9.02935 9.85485 10 9.85485C10.9706 9.85484 11.9015 9.50139 12.5879 8.87223C13.2742 8.24308 13.6598 7.38976 13.6598 6.5H16Z" fill="#D9D9D9"></path>
              <path d="M16 5.5C16 4.04131 15.3679 2.64236 14.2426 1.61091C13.1174 0.579463 11.5913 1.10128e-07 10 0C8.4087 -1.10128e-07 6.88258 0.579462 5.75736 1.61091C4.63214 2.64236 4 4.04131 4 5.5L4.85269 5.5C4.85269 4.24861 5.395 3.04848 6.3603 2.16361C7.32561 1.27875 8.63485 0.781634 10 0.781634C11.3652 0.781634 12.6744 1.27875 13.6397 2.16361C14.605 3.04848 15.1473 4.24861 15.1473 5.5H16Z" fill="#D9D9D9"></path>
              </svg>
            </span>
            <p>Name: {{client.firstName}} {{client.lastName}}</p>
           <label class="btn emailResponsive" for="toggle">
              Email
            </label>
            <input id="toggle" type="checkbox">
            </div>
            <ul class="card-links">
                <li>
                <a href="">{{client.email}}</a>
                </li>
            </ul>
        </div>
        
        <div class="infoAcounts d-flex flex-column justify-content-center">
            <h2 class="colorTitles text-center">Welcome {{client.firstName}}</h2>
            <p class="text-center colorTitles">we are happy to see you!</p>
            <p class="text-center colorTitles">Here you will find information about your accounts</p>
            <div class="d-flex justify-content-around mt-5 numberAccountsResponsive">
                <p class="colorTitles">Nº Accounts: {{accounts.length}}</p>
                <p class="colorTitles">Total Balance:   {{totalAccounts}}</p>
            </div>
        </div>
        </div>

    

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Account Type</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="SAVINGS" v-model="accountType">
                  <label class="form-check-label" for="inlineRadio1">Saving</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="CURRENT" v-model="accountType">
                  <label class="form-check-label" for="inlineRadio2">Current</label>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn deleteButton" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn payButton" @click="createAccount">Create</button>
              </div>
            </div>
          </div>
        </div>

        <h1 class="text-center colorTitles pt-3">Your accounts</h1>
        <template v-if="accounts.length<3">
          <div class="d-flex  d-flex justify-content-center align-items-center">
          <p  class="colorTitles">Create a new account now. Remember that you can have a maximum of three accounts: </p>
          
          <button class="buttonCreateAccount" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            createAccount
          </button>
        </div>
        </template>
        <div class="d-flex flex-wrap  gap-5 justify-content-center pb-5 pt-3">
          
        <div class="accountCard "  v-for="account of accounts"> 
          <!--<button @click="deleteAccount(account.number)">Delete</button>-->  
            <div class="d-flex justify-content-center">
                <img class="walletIcon" src="./img/iconBilletera.png" alt="incon-wallet">
            </div>
            <div class="data d-flex flex-column justify-content-around px-2">
              <p class="text-center pt-1">{{account.accountType}} ACCOUNT</p>
                <div class="d-flex   pt-1 ">
                    <i class='fas fa-fingerprint px-2 iconos' style='font-size:24px'></i>
                    <p>
                        Number: {{account.number}}
                       
                    </p>
                </div>
                <div class="d-flex  pt-3">
                    <i class='far fa-calendar-alt px-2 iconos' style='font-size:30px'></i>
                    <p>
                        Date: {{account.creationDate}}
                    </p>
                </div>
                <div class="d-flex pt-3 pb-3 " >
                    <i class='bx bxs-dollar-circle px-2  iconos' style='font-size:30px'></i>
                    <p>
                        Balance: {{account.balance}}
                    </p>
                </div>
            </div>
            <div class="d-flex  justify-content-around">
                <a @click="deleteAccount(account.number)" class="btn deleteButton">Delete</a> 
                <a :href="'./account.html?id='+account.id" class="btn colorButton ">Transactions</a>
            </div>
        </div>
        
        </div>

        <div>
        
            <h2 class="text-center colorTitles pb-2">Your loans</h2>
            <div class="d-flex  d-flex justify-content-center align-items-center">
              <!--<p  class="colorTitles">Apply for a loan now: </p>-->
              
              <a href="./loan-application.html" class="buttonCreateAccount" >Apply for loan</a>
            </div>
            
            <template v-if="loading">
                <h6 class="text-center colorTitles">loading...</h6>
            </template>
            <template  v-else-if="loans.length!=0">
            <div class="container pt-5 pb-5">
                <div class="row">
                    <div class="col">
                        <div class="table-responsive">
                            <table class="table ">
                                <thead class="table-secondary">
                                <tr>
                                    <th class="col-1">Id</th>
                                    <th class="col-3">Name</th>
                                    <th class="col-2">Amount</th>
                                    <th class="col-2">Amount F</th>
                                    <th class="col-2">Payments</th>
                                    <th class="col-3">Pay</th>
                                </tr>
                                </thead>
                                <tbody class="table-light">
                                <tr v-for="loan of loans">
                                        <td>{{loan.id}}</td>
                                        <td >{{loan.nameLoan}}</td>
                                        <td>{{loan.amount}}</td>
                                        <td>{{loan.amountF.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}}</td>
                                        <td>{{loan.payments}}</td>
                                        <td><button  type="button" class="btn payButton" data-bs-toggle="modal" data-bs-target="#exampleModal2" @click="quotaValue(loan.id)">
                                          Pay
                                        </button> </td>
                                         
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </template>
            <template v-else>
              
               <div class="container d-flex justify-content-center pb-5">
                <div class="notifications-container">
                  <div class="success">
                    <div class="flex">
                      <div class="flex-shrink-0">
                        <img class="iconLoan" src="./img/icons8-loan-68.png" alt="">
                      </div>
                      <div class="success-prompt-wrap">
                        <p class="success-prompt-heading">Loans
                        </p><div class="success-prompt-prompt ">
                          <p>you have not applied for a loan. There is no information to consult</p>
                        </div>
                        
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            </template>

            <!-- Modal -->
        <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Pay Loan</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <label for="">Account number:</label>
                        <div class="mb-4 pt-2">
                            <select class="select"  v-model="numberAccount">
                                <option  v-for="account of accounts"  v-bind:value="account.number">{{account.number}}  - Balance: {{account.balance}} </option>
                            </select>
                        </div>
                        <label for="">Amount of the quota</label>
                        <div class="mb-4 pt-2">
                            <select class="select"  v-model="quota">
                                <option    v-bind:value="quota">{{quotaString}} </option>
                            </select>
                        </div>
                      
              </div>
              <div class="modal-footer">
                <button type="button" class="btn deleteButton" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn payButton" @click="payLoan(loanSelect.id)">Pay</button>
              </div>
            </div>
          </div>
        </div>
        </div>
    </main>
    

    <!-- Footer -->
    <footer class=" text-center text-white">
    <!-- Grid container -->
    <div class="container p-4">
      <!-- Section: Social media -->
      <section class="mb-4">
        <!-- Facebook -->
        <a class="btn btn-outline-light btn-floating m-1" href="https://www.facebook.com" role="button"
          ><i class="fab fa-facebook-f"></i
        ></a>
  
        <!-- Twitter -->
        <a class="btn btn-outline-light btn-floating m-1" href="https://twitter.com/" role="button"
          ><i class="fab fa-twitter"></i
        ></a>
  
       
  
        <!-- Instagram -->
        <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com" role="button"
          ><i class="fab fa-instagram"></i
        ></a>
  
        <!-- Linkedin -->
        <a class="btn btn-outline-light btn-floating m-1" href="https://co.linkedin.com/" role="button"
          ><i class="fab fa-linkedin-in"></i
        ></a>
  
        <!-- Github -->
        <a class="btn btn-outline-light btn-floating m-1" href="https://github.com/lgar005" role="button"
          ><i class="fab fa-github"></i
        ></a>
      </section>
      <!-- Section: Social media -->
  
  
      <!-- Section: Text -->
      <section class="mb-4">
        <p>
            We provide quality services to ensure your financial well-being.
            we have at our disposal a dedicated and passionate team ready to accompany you when you need it most.
        </p>
      </section>
      <!-- Section: Text -->
  
      <!-- Section: Links -->
      <section class="">
        <!--Grid row-->
        <div class="row">
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h6>Founders</h6>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">Carla Ramírez</a>
              </li>
              <li>
                <a href="#!" class="text-white">Diego Correa</a>
              </li>
              <li>
                <a href="#!" class="text-white">Antonio Casas</a>
              </li>
              <li>
                <a href="#!" class="text-white">Maria González </a>
              </li>
            </ul>
          </div>

          
          <!--Grid column-->
  
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h6>Services</h6>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">Loans</a>
              </li>
              <li>
                <a href="#!" class="text-white">Transactions</a>
              </li>
              <li>
                <a href="#!" class="text-white">Financial advice</a>
              </li>
              <li>
                <a href="#!" class="text-white">Safety deposit boxes</a>
              </li>
            </ul>
          </div>
          <!--Grid column-->
  
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h6 >Bank branches</h6>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">Nueva York</a>
              </li>
              <li>
                <a href="#!" class="text-white">Ottawa</a>
              </li>
              <li>
                <a href="#!" class="text-white">London</a>
              </li>
              <li>
                <a href="#!" class="text-white">Oklahoma</a>
              </li>
            </ul>
          </div>
          <!--Grid column-->
  
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h6>Contact us</h6>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">New York, NY 10012, US</a>
              </li>
              <li>
                <a href="#!" class="text-white">mindhubBrothes@gmail.com</a>
              </li>
              <li>
                <a href="#!" class="text-white"> + 01 234 567 88</a>
              </li>
              <li>
                <a href="#!" class="text-white">+ 01 234 567 89</a>
              </li>
            </ul>
          </div>
          <!--Grid column-->
        </div>
        <!--Grid row-->
      </section>
      <!-- Section: Links -->
    </div>
    <!-- Grid container -->
  
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 50 years of experience in the financial market
      
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->

</div> 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./js/accounts.js"></script>
</body>
</html>